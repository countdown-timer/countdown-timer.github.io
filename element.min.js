customElements.define("countdown-timer",class extends HTMLElement{connectedCallback(){let e=this.getAttribute("count")?.split(",")||["years","days","hours","minutes","seconds"].filter((e=>!this.hasAttribute("no"+e))),t=this.getAttribute("labels")?.split(",")||e;e=e.slice(-1*t.length);let n=({name:e="div",id:t,append:n=[],...i})=>(this[t]=Object.assign(document.createElement(e),{id:t,...i}),this[t].append(...n),this[t].setAttribute("part",t),this[t]),i=(e,t,n=`var(--countdown-timer-${e},${t})`)=>n;this.attachShadow({mode:"open"}).append(n({name:"style",innerHTML:`:host {font-family:${i("font","arial")},sans-serif;text-align:center;font-size:${i("font-size","2.5rem")};display:inline-block;width:${i("width","auto")}}#event{padding:0 1rem;background:${i("event-background","gold")};color:${i("event-color","black")}}#counters{display:grid;grid:1fr/repeat(${e.length},1fr);background:${i("counters-background","green")};color:${i("counters-color","white")}}[part*="label"]{padding:${i("label-padding","0 1em")};font-size:${i("label-font-size","35%")}}`}),n({id:"event",innerHTML:this.getAttribute("event")||"New Year"}),n({id:"counters",append:e.map(((i,a,s)=>n({id:i+"date",append:[n({id:i,innerHTML:"0"}),n({id:i+"label",innerHTML:((t||e)[e.indexOf(i)]||"").toUpperCase()})]})))}));let a=new Date(this.getAttribute("date")||"2024-1-1"),s=setInterval((()=>{let t=this.timedifference(a);e.map((e=>this[e].innerHTML=t[e])),0==t.minutes&&0==t.seconds&&clearInterval(s)}),1e3)}timedifference(e,t=new Date){let n=new Date(e),i=new Date(t),a=n-i,s=864e5,r={years:~~(a/(365*s))};a-=r.years*s*365;let l=0;for(let e=i.getFullYear();e<n.getFullYear();e++)(e%4==0&&e%100!=0||e%400==0)&&l++;return r.days=~~(a/s)+l,a-=(r.days-l)*s,r.hours=~~(a/36e5),a-=1e3*r.hours*60*60,r.minutes=~~(a/6e4),a-=1e3*r.minutes*60,r.seconds=~~(a/1e3),r}});